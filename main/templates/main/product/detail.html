{% extends "main/base.html" %}

{% block title %}{{ product.name }}{% endblock title %}

{% block content %}
    <!-- Хлебные крошки -->
    <nav class="mp-breadcrumbs" aria-label="Хлебные крошки">
    <a href="{% url 'main:product_list' %}">Главная</a>
    <span class="mp-sep">/</span>
    <a href="{{ product.category.get_absolute_url }}">{{ product.category.name }}</a>
    <span class="mp-sep">/</span>
    <span aria-current="page">{{ product.name }}</span>
    </nav>


    <!-- Продукт -->
    <section class="mp-product" aria-labelledby="mp-product-title">
    <div class="mp-gallery">
    <div class="mp-gallery-main">
    <img alt="{{ product.name }}" src="{{ product.image.url }}" />
    </div>
    <div class="mp-thumbs">
    <div class="mp-thumb"><img alt="Передняя часть футболки" src="https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=300&auto=format&fit=crop" /></div>
    <div class="mp-thumb"><img alt="Деталь ткани крупным планом" src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=300&auto=format&fit=crop" /></div>
    <div class="mp-thumb"><img alt="Лейбл и шов" src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=300&auto=format&fit=crop" /></div>
    </div>
    </div>


    <aside class="mp-panel">
    <h1 id="mp-product-title" class="mp-title">{{ product.name }}</h1>
    <div class="mp-sub">100% хлопок, унисекс</div>
    <div class="mp-price" style="margin-top:6px">₽ {{ product.price }}</div>


    <div class="mp-infobar">
    {% if product.available %}
        <span class="mp-pill">В наличии</span>
        <span class="mp-pill">Доставка: 1–3 дня</span>
        <span class="mp-pill">Оплата: картой / SBP</span>
    {% else %}
        <span class="mp-pill">Нет в наличии</span>        
    {% endif %}
    </div>


    <div class="mp-options">
        <div>
            <div class="mp-opt-label">Размер</div>
            <div class="mp-sizes" role="radiogroup" aria-label="Выбор размера">
                <input type="radio" name="size" id="mp-sz-xs" checked><label for="mp-sz-xs">XS</label>
                <input type="radio" name="size" id="mp-sz-s"><label for="mp-sz-s">S</label>
                <input type="radio" name="size" id="mp-sz-m"><label for="mp-sz-m">M</label>
                <input type="radio" name="size" id="mp-sz-l"><label for="mp-sz-l">L</label>
                <input type="radio" name="size" id="mp-sz-xl"><label for="mp-sz-xl">XL</label>
            </div>
        </div>
        <div>
            <div class="mp-opt-label">Цвет</div>
            <div class="mp-swatches" aria-label="Выбор цвета">
                <label class="mp-swatch" style="--c:#111827" title="Чёрный"><input type="radio" name="color" checked></label>
                <label class="mp-swatch" style="--c:#e5e7eb" title="Светло-серый"><input type="radio" name="color"></label>
                <label class="mp-swatch" style="--c:#d97706" title="Тёплый охра"><input type="radio" name="color"></label>
            </div>
        </div>


        <div class="mp-qty">
            <label class="mp-opt-label" for="mp-qty">Количество</label>
            <input id="mp-qty" name="qty" type="number" min="1" value="1" inputmode="numeric" />
        </div>
    </div>


    <div class="mp-actions">
        <!-- <a class="mp-btn" href="#">Купить</a> -->
        <a class="btn btn-ghost" href="#">Купить сейчас</a>
    </div>


    <div class="mp-details" aria-label="Подробности о товаре">
        <details open>
            <summary>Описание</summary>
            <div class="mp-content">{{ product.descriptiopn }}Базовая футболка из плотного дышащего хлопка. Чистый крой, усиленная горловина, устойчивые к деформации швы. Идеальна для повседневной носки и многослойных образов.</div>
        </details>
        <details>
            <summary>Состав и уход</summary>
            <div class="mp-content">100% хлопок. Машинная стирка при низких температурах, вывернув рисунком внутрь. Гладить на низкой температуре, также вывернув внутрь.</div>
        </details>
        <details>
            <summary>Доставка и возврат</summary>
            <div class="mp-content">Курьером 1–3 дня по РФ. Обмен/возврат — в течение 14 дней при сохранении товарного вида и ярлыков.</div>
        </details>
        <details>
            <summary>Размер и посадка</summary>
            <div class="mp-content">Футболка соответствует размеру. Для оверсайз‑посадки возьмите на размер больше.</div>
        </details>
    </div>
    </aside>
    </section>


    {% if related_products %}
    <!-- Похожие товары -->
      <section style="margin-top:36px">
        <h2 style="margin:0 0 8px">Похожие товары</h2>
        <div class="mp-grid mp-related">
          <article class="mp-card">
            <div class="mp-card-media"><img alt="Серая худи" src="https://images.unsplash.com/photo-1602810318383-9a66f00b51fd?q=80&w=1200&auto=format&fit=crop" /></div>
            <div class="mp-card-body">
              <div>Худи Soft</div>
              <div class="mp-meta"><span>₽ 3 490</span><a href="#">Подробнее</a></div>
            </div>
          </article>
          <article class="mp-card">
            <div class="mp-card-media"><img alt="Хлопковая сумка" src="https://images.unsplash.com/photo-1620799139504-5f73d857e9e3?q=80&w=1200&auto=format&fit=crop" /></div>
            <div class="mp-card-body">
              <div>Сумка Canvas Tote</div>
              <div class="mp-meta"><span>₽ 1 290</span><a href="#">Подробнее</a></div>
            </div>
          </article>
          <article class="mp-card">
            <div class="mp-card-media"><img alt="Керамическая кружка" src="https://images.unsplash.com/photo-1498654896293-37aacf113fd9?q=80&w=1200&auto=format&fit=crop" /></div>
            <div class="mp-card-body">
              <div>Кружка Classic</div>
              <div class="mp-meta"><span>₽ 990</span><a href="#">Подробнее</a></div>
            </div>
          </article>
          <article class="mp-card">
            <div class="mp-card-media"><img alt="Настольное растение" src="https://images.unsplash.com/photo-1498654200943-1088dd4438ae?q=80&w=1200&auto=format&fit=crop" /></div>
            <div class="mp-card-body">
              <div>Настольное растение</div>
              <div class="mp-meta"><span>₽ 1 450</span><a href="#">Подробнее</a></div>
            </div>
          </article>
        </div>
      </section>
      {% endif %}

{% endblock content %}